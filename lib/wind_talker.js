// Generated by CoffeeScript 1.6.1
(function() {
  var WindTalker, fs, net, w, zlib;

  fs = require('fs');

  zlib = require('zlib');

  net = require('net');

  WindTalker = (function() {

    function WindTalker(channel, host, port) {
      this.channel = channel;
      this.host = host != null ? host : "121.199.14.113";
      this.port = port != null ? port : 7781;
      this.greeting = "m=" + this.channel + ";u=xxx;p=xxx";
      this.client = new net.Socket();
    }

    WindTalker.prototype.listen = function() {
      var _this = this;
      this.client.connect(this.port, this.host, function() {
        console.log("Connect to " + _this.host + ":" + _this.port);
        return _this.client.write(_this.greeting);
      });
      this.client.on('data', function(data) {
        console.log("data: " + data);
        return _this.client.destroy();
      });
      return this.client.on('close', function() {
        return console.log("Connection closed.");
      });
    };

    return WindTalker;

  })();

  w = new WindTalker('IX');

  w.listen();

}).call(this);
